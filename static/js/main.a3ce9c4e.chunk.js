(this["webpackJsonpbatracer-setup-helperp"]=this["webpackJsonpbatracer-setup-helperp"]||[]).push([[0],{49:function(e,t,a){},51:function(e,t,a){},75:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);a(49),a(50),a(51);var n=a(0),r=a.n(n),c=a(17),s=a(44),i=a(101),l=a(1),o=function(e){var t=e.value,a=e.onConvertionChange;return Object(l.jsx)("span",{children:Object(l.jsx)(s.a,{children:Object(l.jsx)(i.a.Group,{children:Object(l.jsx)(i.a.Check,{label:"Dry to Wet",value:t,onChange:a})})})})},u=a(96),j=function(e){var t=e.element,a=e.label,n=e.lowValue,r=e.highValue,c=e.readOnly,s=void 0!==c&&c,o=e.handleChange;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)(i.a.Label,{children:a})}),Object(l.jsx)("td",{children:Object(l.jsx)(i.a.Control,{readOnly:s,value:n,onChange:function(e){return o(t,"low",e.target.value)}})}),Object(l.jsx)("td",{children:Object(l.jsx)(i.a.Control,{readOnly:s,value:r,onChange:function(e){return o(t,"high",e.target.value)}})})]})},d=a(10),b=a(7),h={"Bone Dry":0,Greasy:9,Moist:18,Drizzle:27,"Light Rain":36,Rain:45,"Wet and Slippery":54,"Steady Rain":63,"Heavy Rain":72,"Treacherous Rain and Spray":81,Monsoon:90,Storm:100},O={frontWing:{label:"Front Wing",adjustment:20},rearWing:{label:"Rear Wing",adjustment:35},frontSusp:{label:"Front Suspension",adjustment:-20},rearSusp:{label:"Rear Suspension",adjustment:-35},frontArb:{label:"Front Anti-Roll Bar",adjustment:-18},rearArb:{label:"Rear Anti-Roll Bar",adjustment:-30},frontRh:{label:"Front Ride Height",adjustment:-12},rearRh:{label:"Rear Ride Height",adjustment:-13},frontTp:{label:"Front Tire Pressure",adjustment:10},rearTp:{label:"Rear Tire Pressure",adjustment:12},gears:{label:"Gears",adjustment:-5},brakeBias:{label:"Brake Bias",adjustment:15}},x=Object.entries(O).reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},t[0],{low:0,high:100}))}),{}),p={wings:{front:{low:0,high:100},rear:{low:0,high:100}},suspension:{front:{low:0,high:100},rear:{low:0,high:100}},arb:{front:{low:0,high:100},rear:{low:0,high:100}},rideHeight:{front:{low:0,high:100},rear:{low:0,high:100}},tyrePressure:{front:{low:0,high:100},rear:{low:0,high:100}},gears:{gears:{low:0,high:100}},brake:{brake:{low:0,high:100}}},v=function(e){var t=e.readOnly,a=void 0!==t&&t,n=e.values,r=e.handleChange,c=void 0===r?function(){}:r;return Object(l.jsxs)(u.a,{striped:!0,bordered:!0,hover:!1,size:"sm",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{}),Object(l.jsx)("th",{children:"Lowest"}),Object(l.jsx)("th",{children:"Highest"})]})}),Object(l.jsx)("tbody",{children:Object.keys(O).map((function(e){var t=O[e],r=n[e].low,s=n[e].high;return Object(l.jsx)(j,{element:e,label:t.label,lowValue:r,highValue:s,readOnly:a,handleChange:c},e)}))})]})},f=a(97),g=function(e){var t=e.value,a=e.onWeatherChange;return Object(l.jsx)(s.a,{children:Object(l.jsx)(i.a.Group,{as:f.a,children:Object(l.jsx)(i.a.Control,{as:"select",defaultValue:"Bone Dry",value:t,onChange:a,children:Object.keys(h).map((function(e){return Object(l.jsx)("option",{children:e},e)}))})})})},y=a(11),m=a(104),C=a(100),R=a(102),S=a(99),w=a(30),k="ADD_RACE",I="SET_ACTIVE_RACE",N="ADD_SETUP",H="SET_ACTIVE_SETUP",B=function(e){return Object.values(e.setupHistory.races).map((function(e){return{id:e.id,country:e.country}}))},A=function(e){return e.setupHistory.lastRaceId<0||e.setupHistory.activeRaceId<0?null:e.setupHistory.races[e.setupHistory.activeRaceId]},T=function(e){var t=function(e){return e.setupHistory.activeSetupName}(e),a=A(e);return t&&a?e.setupHistory.races[a.id].setups[t]:null},F=Object(c.b)(null,(function(e){return{addRace:function(t){return e(function(e){return{type:k,payload:{country:e}}}(t))}}}))((function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),u=Object(y.a)(o,2),j=u[0],d=u[1],b=function(){return c(!1)},h=function(e){return d(e.target.value)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.a,{variant:"dark",onClick:function(){return c(!0)},children:"+ Add New Race"}),Object(l.jsxs)(C.a,{show:r,onHide:b,children:[Object(l.jsx)(C.a.Header,{closeButton:!0,children:Object(l.jsx)(C.a.Title,{children:"Add New Race"})}),Object(l.jsx)(C.a.Body,{children:Object(l.jsx)(i.a,{children:Object(l.jsxs)(i.a.Group,{as:f.a,children:[Object(l.jsx)(i.a.Label,{column:!0,sm:2,children:"Country:"}),Object(l.jsx)(s.a,{sm:10,children:Object(l.jsx)(i.a.Control,{required:!0,onChange:h})})]})})}),Object(l.jsxs)(C.a.Footer,{children:[Object(l.jsx)(m.a,{variant:"secondary",onClick:b,children:"Close"}),Object(l.jsx)(m.a,{variant:"primary",type:"submit",onClick:function(){""!==j&&e.addRace(j),b()},children:"Confirm"})]})]})]})})),W=a(98),D=function(){var e=Object(n.useState)("Bone Dry"),t=Object(y.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(y.a)(c,2),u=i[0],j=i[1],p=Object(n.useState)(x),m=Object(y.a)(p,2),C=m[0],R=m[1],S=Object(n.useState)(x),w=Object(y.a)(S,2),k=w[0],I=w[1],N=function(e,t,a){var n=t/100*a,r=parseInt(e,10);return(n=u?Math.round(r+n):Math.round(r-n))>100?n=100:(n<0||Number.isNaN(n)||n===1/0)&&(n=0),n},H=function(){return Object.keys(C).reduce((function(e,t){var n=C[t],r=O[t].adjustment,c=h[a],s=N(n.low,r,c),i=N(n.high,r,c),l=Object(d.a)({},t,{low:s,high:i});return Object(b.a)(Object(b.a)({},e),l)}),{})};return Object(l.jsxs)(W.a,{children:[Object(l.jsx)(g,{value:a,onWeatherChange:function(e){var t=e.target.value||"Bone Dry";r(t);var a=H();I(a)}}),Object(l.jsx)(o,{value:u,onConvertionChange:function(e){j(!e.target.checked);var t=H();I(t)}}),Object(l.jsxs)(f.a,{children:[Object(l.jsx)(s.a,{children:Object(l.jsx)(v,{values:C,handleChange:function(e,t,n){var r=Number(n);""===n||Number.isNaN(n)||n<0?r=0:n>100&&(r=100),R((function(a){return Object(b.a)(Object(b.a)({},a),{},Object(d.a)({},e,Object(b.a)(Object(b.a)({},a[e]),{},Object(d.a)({},t,r))))}));var c=O[e].adjustment,s=N(r,c,h[a]);I((function(a){return Object(b.a)(Object(b.a)({},a),{},Object(d.a)({},e,Object(b.a)(Object(b.a)({},a[e]),{},Object(d.a)({},t,s))))}))}})}),Object(l.jsx)(s.a,{children:Object(l.jsx)(v,{values:k,readOnly:!0})})]})]})},L=function(){var e=Object(n.useState)(!1),t=Object(y.a)(e,2),a=t[0],r=t[1],c=function(){return r(!1)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.a,{variant:"dark",onClick:function(){return r(!0)},children:"Wet Weather Calculator"}),Object(l.jsxs)(C.a,{size:"lg",show:a,onHide:c,children:[Object(l.jsx)(C.a.Header,{closeButton:!0,children:Object(l.jsx)(C.a.Title,{children:"Wet Weather Calculator"})}),Object(l.jsx)(C.a.Body,{children:Object(l.jsx)(D,{})}),Object(l.jsx)(C.a.Footer,{children:Object(l.jsx)(m.a,{variant:"secondary",onClick:c,children:"Close"})})]})]})},P=function(e){var t=e.races,a=void 0===t?[]:t,n=e.handleRaceChange,r=e.activeRaceId,c={value:a[r].country,label:a[r].country};return Object(l.jsx)("div",{style:{width:"200px"},children:Object(l.jsx)(w.a,{options:a.map((function(e){return{value:e.id,label:e.country}})),value:c,defaultValue:c,onChange:n})})},E=Object(c.b)((function(e){return{races:B(e),activeRaceId:e.setupHistory.activeRaceId}}),(function(e){return{setActiveRace:function(t){return e(function(e){return{type:I,payload:{raceId:e}}}(t))}}}))((function(e){var t=e.races,a=e.setActiveRace,n=e.activeRaceId;return Object(l.jsxs)(R.a,{collapseOnSelect:!0,bg:"dark",expand:"lg",variant:"dark",children:[Object(l.jsx)(R.a.Brand,{children:"Batracer Setup Helper"}),t.length>1&&Object(l.jsx)(P,{races:t,activeRaceId:n,handleRaceChange:function(e){a(e.value)}}),Object(l.jsx)(R.a.Toggle,{}),Object(l.jsx)(R.a.Collapse,{className:"justify-content-end",children:Object(l.jsxs)(S.a,{children:[Object(l.jsx)(F,{}),Object(l.jsx)(L,{})]})})]})})),G=a(103),V=a(40),_=(a(75),a(46)),z=a.n(_),M=(a(91),function(e){var t=e.min,a=e.max,n=e.step,r=void 0===n?1:n,c=e.value,s=void 0===c?50:c;return Object(l.jsx)("div",{className:"slider",children:Object(l.jsx)(z.a,{minValue:t,maxValue:a,step:r,onChange:function(){},value:s})})}),q=function(e){var t=e.name,a=e.setupPart;return Object(l.jsxs)(G.a,{className:"text-center",children:[Object(l.jsx)(G.a.Header,{children:t}),Object(l.jsx)(G.a.Body,{children:Object(l.jsx)(W.a,{children:Object.keys(a).map((function(e){return Object(l.jsxs)(i.a,{as:f.a,style:{marginBottom:"5px"},children:[Object(l.jsx)(s.a,{children:Object(l.jsx)(i.a.Label,{children:e})}),Object(l.jsxs)(s.a,{children:[console.log({x:e,setupPart:a}),Object(l.jsx)(M,{min:0,max:100,value:{min:Object(V.get)(a,"".concat(e.toLowerCase(),".low"),0),max:Object(V.get)(a,"".concat(e.toLowerCase(),".high"),100)}})]})]})}))})})]})},U=function(e){var t=e.split("\n").filter((function(e){return e.startsWith("lo:")||e.startsWith("Spot")}));return 12===t.length&&t.map((function(e){if(e.startsWith("Spot")){var t=e.split(": ")[1];return{low:t,high:t}}var a=e.split(":");return{low:a[1].split(" ")[0],high:a[2]}}))},J=function(e){var t=e.country,a=void 0===t?"":t,r=e.addSetup,c=Object(n.useState)(!1),o=Object(y.a)(c,2),u=o[0],j=o[1],d=function(){return j(!1)},b=Object(n.useState)(""),h=Object(y.a)(b,2),O=h[0],x=h[1],p=Object(n.useState)(""),v=Object(y.a)(p,2),g=v[0],R=v[1],S=function(e){var t=e.target.value||"";R(t)},w=function(e){var t=e.target.value||"";x(t)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.a,{variant:"dark",style:{display:"flex"},onClick:function(){return j(!0)},children:"ADD SETUP"}),Object(l.jsxs)(C.a,{show:u,onHide:d,size:"lg",children:[Object(l.jsx)(C.a.Header,{closeButton:!0,children:Object(l.jsx)(C.a.Title,{children:"Settings"})}),Object(l.jsx)(C.a.Body,{children:Object(l.jsxs)(i.a,{children:[Object(l.jsxs)(i.a.Group,{as:f.a,children:[Object(l.jsx)(i.a.Label,{column:!0,sm:2,children:"Country:"}),Object(l.jsx)(s.a,{sm:10,children:Object(l.jsx)(i.a.Control,{disabled:!0,required:!0,onChange:function(){},value:a})})]}),Object(l.jsxs)(i.a.Group,{as:f.a,children:[Object(l.jsx)(i.a.Label,{column:!0,sm:2,children:"Setup name:"}),Object(l.jsx)(s.a,{sm:10,children:Object(l.jsx)(i.a.Control,{required:!0,onChange:w,value:O})})]}),Object(l.jsxs)(i.a.Group,{as:f.a,children:[Object(l.jsx)(i.a.Label,{column:!0,sm:2,children:"Import setup:"}),Object(l.jsx)(s.a,{sm:10,children:Object(l.jsx)(i.a.Control,{as:"textarea",rows:"10",onChange:S,value:g})})]})]})}),Object(l.jsxs)(C.a.Footer,{children:[Object(l.jsx)(m.a,{variant:"secondary",onClick:d,children:"Close"}),Object(l.jsx)(m.a,{variant:"primary",type:"submit",onClick:function(){if(""!==O){if(""===g)r(O);else{var e=U(g);if(!1===e);else{var t={wings:{front:e[0],rear:e[1]},suspension:{front:e[2],rear:e[3]},arb:{front:e[4],rear:e[5]},rideHeight:{front:e[6],rear:e[7]},tyrePressure:{front:e[8],rear:e[9]},gears:{gears:e[10]},brake:{brake:e[11]}};r(O,t)}}d()}},children:"Confirm"})]})]})]})},K=Object(c.b)((function(e){return{lastRaceId:e.setupHistory.lastRaceId,race:A(e),setup:T(e),activeSetupName:e.setupHistory.activeSetupName}}),(function(e){return{addSetup:function(t,a){return e(function(e){return{type:N,payload:{setup:arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,setupName:e}}}(t,a))},setActiveSetup:function(t){return e(function(e){return{type:H,payload:{setupName:e}}}(t))}}}))((function(e){var t=e.race,a=e.setup,n=void 0===a?null:a,r=e.lastRaceId,c=e.addSetup,s=e.activeSetupName,i=e.setActiveSetup,o=Object.keys(t.setups).map((function(e){return{value:e,label:e}}));return r<0?Object(l.jsx)("div",{}):Object(l.jsxs)(G.a,{className:"text-center",style:{margin:"10px"},children:[Object(l.jsxs)(G.a.Header,{as:"h5",style:{display:"flex",alignItems:"center"},children:[Object(l.jsx)("div",{style:{flexGrow:"1"}}),t.country,Object(l.jsx)("div",{style:{flexGrow:"1"}}),Object(l.jsx)("div",{style:{width:"200px",marginRight:"10px"},children:Object(l.jsx)(w.a,{options:o,value:{value:s,label:s},onChange:function(e){i(e.value)}})}),Object(l.jsx)(J,{addSetup:c,country:t.country})]}),s&&n&&Object(l.jsx)(G.a.Body,{children:Object.keys(n).map((function(e){return Object(l.jsx)(q,{name:e,setupPart:n[e]})}))})]})})),Q=function(e){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(E,{}),Object(l.jsx)(K,{})]})},X=a(12),Y=a.n(X),Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,105)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},$=a(19),ee=a(41),te=a(47),ae=a.n(te),ne={races:{},lastRaceId:-1,activeRaceId:-1,activeSetupName:null},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(console.log({state:e,action:t}),t.type){case k:var a=e.lastRaceId+1;return Object(b.a)(Object(b.a)({},e),{},{lastRaceId:a,activeRaceId:a,races:Object(b.a)(Object(b.a)({},e.races),{},Object(d.a)({},a,{id:a,country:t.payload.country,setups:{}}))});case I:return Object(b.a)(Object(b.a)({},e),{},{activeRaceId:t.payload.raceId,activeSetupName:null});case N:return Object(b.a)(Object(b.a)({},e),{},{activeSetupName:t.payload.setupName,races:Object(b.a)(Object(b.a)({},e.races),{},Object(d.a)({},e.activeRaceId,Object(b.a)(Object(b.a)({},e.races[e.activeRaceId]),{},{setups:Object(b.a)(Object(b.a)({},e.races[e.activeRaceId].setups),{},Object(d.a)({},t.payload.setupName,t.payload.setup))})))});case H:return Object(b.a)(Object(b.a)({},e),{},{activeSetupName:t.payload.setupName});default:return e}},ce=Object($.a)({setupHistory:re}),se={key:"root",storage:ae.a},ie=Object(ee.a)(se,ce),le=a(48),oe=function(){var e=Object($.b)(ie);return{store:e,persistor:Object(ee.b)(e)}}(),ue=oe.store,je=oe.persistor;Y.a.render(Object(l.jsx)(c.a,{store:ue,children:Object(l.jsx)(le.a,{loading:null,persistor:je,children:Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(Q,{})})})}),document.getElementById("root")),Z()}},[[94,1,2]]]);
//# sourceMappingURL=main.a3ce9c4e.chunk.js.map